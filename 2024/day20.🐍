"""
â˜€2ï¸âƒ£0ï¸âƒ£â•
"""

ğŸ§¼ = sorted
ğŸ–¨ = print
ğŸ¤ = zip
ğŸ‘† = abs
âœ… = True
âŒ = False

ğŸ›º = min
ğŸš› = max
ğŸ“ = len
ğŸ‘©â€ğŸŒ¾ = range
ğŸ—º = map
â• = sum
â›“ = list
ğŸ’ = set
âœ’ï¸  = lambda âœ–: str(âœ–)
ğŸª“ = lambda â­, âœ¨: â­.split(âœ¨)
ğŸ“¥ = lambda â›“, âœ¨: â›“.append(âœ¨)
ğŸ“¥ğŸ’ = lambda ğŸ’, âœ¨: ğŸ’.add(âœ¨)
ğŸ”¢ = lambda âœ–: int(âœ–)
â¯â­â“ = lambda â­, âœ¨: â­.startswith(âœ¨)

0ï¸âƒ£ = 0; 1ï¸âƒ£ = 1; 2ï¸âƒ£ = 2; 3ï¸âƒ£ = 3; 4ï¸âƒ£ = 4; 5ï¸âƒ£ = 5;
6ï¸âƒ£ = 6; 7ï¸âƒ£ = 7; 8ï¸âƒ£ = 8; 9ï¸âƒ£ = 9; ğŸ”Ÿ = 10
2ï¸âƒ£5ï¸âƒ£ = 25; 7ï¸âƒ£5ï¸âƒ£ = 75; 2ï¸âƒ£0ï¸âƒ£2ï¸âƒ£4ï¸âƒ£ = 2024; ğŸ’¯ = 100;
1ï¸âƒ£2ï¸âƒ£ = 12; 7ï¸âƒ£0ï¸âƒ£ = 70; 1ï¸âƒ£0ï¸âƒ£2ï¸âƒ£4ï¸âƒ£ = 1024

def ğŸ‘“(âœ):
    return [ğŸš£â€â™‚ï¸.strip() for ğŸš£â€â™‚ï¸ in open(âœ).readlines() if ğŸš£â€â™‚ï¸.strip()]

def ğŸ‘“ğŸ¤(âœ):
    return open(âœ).read()

def ğŸ’‰(â­, â†”, âœ¨):
    global 1ï¸âƒ£
    return â­[:â†”] + âœ¨ + â­[â†” + 1ï¸âƒ£:]

# ğŸŸ©ğŸŸ©ğŸŸ©ğŸ…¿1ï¸âƒ£ğŸŸ©ğŸŸ©ğŸŸ©

# ğŸ§¾ = ğŸ‘“('input/20.example.txt')
ğŸ§¾ = ğŸ‘“('input/20.txt')

ğŸ“â†• = ğŸ“(ğŸ§¾)
ğŸ“â†” = ğŸ“(ğŸ§¾[0ï¸âƒ£])

for â†• in ğŸ‘©â€ğŸŒ¾(ğŸ“(ğŸ§¾)):
    if 'S' in ğŸ§¾[â†•]:
        ğŸŸ¢ğŸ“ = (ğŸ§¾[â†•].index('S'), â†•)

ğŸğŸ“ğŸ“— =  {ğŸŸ¢ğŸ“: 0ï¸âƒ£}

ğŸ“ = ğŸŸ¢ğŸ“
while ğŸ§¾[ğŸ“[1ï¸âƒ£]][ğŸ“[0ï¸âƒ£]] != 'E':
    for ğŸ§­ in [(0ï¸âƒ£, 1ï¸âƒ£), (0ï¸âƒ£, -1ï¸âƒ£), (1ï¸âƒ£, 0ï¸âƒ£), (-1ï¸âƒ£, 0ï¸âƒ£)]:
        ğŸ“ğŸ§­ = (ğŸ“[0ï¸âƒ£] + ğŸ§­[0ï¸âƒ£], ğŸ“[1ï¸âƒ£] + ğŸ§­[1ï¸âƒ£])
        if ğŸ§¾[ğŸ“ğŸ§­[1ï¸âƒ£]][ğŸ“ğŸ§­[0ï¸âƒ£]] != '#' and ğŸ“ğŸ§­ not in ğŸğŸ“ğŸ“—:
            ğŸğŸ“ğŸ“—[ğŸ“ğŸ§­] = ğŸğŸ“ğŸ“—[ğŸ“] + 1ï¸âƒ£
            ğŸ“ = ğŸ“ğŸ§­
            break

ğŸ’²ğŸ—º = {}
ğŸ‰ = 0ï¸âƒ£

for ğŸ“ in ğŸğŸ“ğŸ“—:
    for ğŸ¦˜ğŸ§­ in [(0ï¸âƒ£, 1ï¸âƒ£), (0ï¸âƒ£, -1ï¸âƒ£), (1ï¸âƒ£, 0ï¸âƒ£), (-1ï¸âƒ£, 0ï¸âƒ£)]:
        ğŸ“ğŸ¦˜ = (ğŸ“[0ï¸âƒ£] + ğŸ¦˜ğŸ§­[0ï¸âƒ£], ğŸ“[1ï¸âƒ£] + ğŸ¦˜ğŸ§­[1ï¸âƒ£])
        for ğŸ¦˜ğŸ¦˜ğŸ§­ in [(0ï¸âƒ£, 1ï¸âƒ£), (0ï¸âƒ£, -1ï¸âƒ£), (1ï¸âƒ£, 0ï¸âƒ£), (-1ï¸âƒ£, 0ï¸âƒ£)]:
            ğŸ“ğŸ¦˜ğŸ¦˜ = (ğŸ“ğŸ¦˜[0ï¸âƒ£] + ğŸ¦˜ğŸ¦˜ğŸ§­[0ï¸âƒ£], ğŸ“ğŸ¦˜[1ï¸âƒ£] + ğŸ¦˜ğŸ¦˜ğŸ§­[1ï¸âƒ£])

            if (ğŸ“ğŸ¦˜ğŸ¦˜[0ï¸âƒ£] < 0ï¸âƒ£
                or ğŸ“ğŸ¦˜ğŸ¦˜[1ï¸âƒ£] < 0ï¸âƒ£
                or ğŸ“ğŸ¦˜ğŸ¦˜[0ï¸âƒ£] >= ğŸ“â†” 
                or ğŸ“ğŸ¦˜ğŸ¦˜[1ï¸âƒ£] >= ğŸ“â†•):
                continue

            if (ğŸ§¾[ğŸ“ğŸ¦˜[1ï¸âƒ£]][ğŸ“ğŸ¦˜[0ï¸âƒ£]] == '#' 
                and ğŸ§¾[ğŸ“ğŸ¦˜ğŸ¦˜[1ï¸âƒ£]][ğŸ“ğŸ¦˜ğŸ¦˜[0ï¸âƒ£]] != '#'):

                ğŸ’² = ğŸğŸ“ğŸ“—[ğŸ“ğŸ¦˜ğŸ¦˜] - ğŸğŸ“ğŸ“—[ğŸ“] - 2ï¸âƒ£
                if ğŸ’² > 0ï¸âƒ£:
                    if ğŸ’² not in ğŸ’²ğŸ—º:
                        ğŸ’²ğŸ—º[ğŸ’²] = 1ï¸âƒ£
                    else:
                        ğŸ’²ğŸ—º[ğŸ’²] += 1ï¸âƒ£
                if ğŸ’² >= ğŸ’¯:
                    ğŸ‰ += 1ï¸âƒ£

ğŸ–¨(sorted(ğŸ’²ğŸ—º.items()))
ğŸ–¨(ğŸ‰)
