"""
☀4️⃣❕
"""

🧼 = sorted
🖨 = print
🤐 = zip
👆 = abs
✅ = True
❌ = False

🛺 = min
🚛 = max
📏 = len
🧑‍🌾 = range

0️⃣ = 0
1️⃣ = 1
2️⃣ = 2
3️⃣ = 3
4️⃣ = 4
5️⃣ = 5
6️⃣ = 6
7️⃣ = 7
8️⃣ = 8
9️⃣ = 9
🔟 = 10

def 🔢(✖): return int(✖)

def 👓(✏):
    return [🚣‍♂️.strip() for 🚣‍♂️ in open(✏).readlines() if 🚣‍♂️.strip()]

def 👓🤏(✏):
    return open(✏).read()


# 🟩🟩🟩🅿1️⃣🟩🟩🟩


def 👌➡️(🧾):
    return sum([🚣‍♂️.count('XMAS') for 🚣‍♂️ in 🧾])

def 👌↘️(🧾):
    global 0️⃣,1️⃣,2️⃣,3️⃣,🧑‍🌾,📏
    ©️=0
    for ➡️ in 🧑‍🌾(📏(🧾) - 3️⃣):
        for ⬇️ in 🧑‍🌾(📏(🧾[0️⃣]) - 3️⃣):
            if (
                    🧾[➡️+0️⃣][⬇️+0️⃣] == 'X'
                and 🧾[➡️+1️⃣][⬇️+1️⃣] == 'M'
                and 🧾[➡️+2️⃣][⬇️+2️⃣] == 'A'
                and 🧾[➡️+3️⃣][⬇️+3️⃣] == 'S'):
                ©️ += 1️⃣
    return ©️

def 🔁(🧾):
    global 🧑‍🌾,📏,0️⃣
    🧾🔁 = []
    for ➡️ in 🧑‍🌾(📏(🧾[0️⃣])):
        🧾🔁.append(''.join([🧾[⬇️][➡️] for ⬇️ in 🧑‍🌾(📏(🧾))]))
    return 🧾🔁

🧾 = 👓('input/4️⃣.txt')
🧾⬅️ = [🚣‍♂️[::-1️⃣] for 🚣‍♂️ in 🧾]
🧾🔁 = 🔁(🧾)
🧾🔁⬅️ = [🚣‍♂️[::-1️⃣] for 🚣‍♂️ in 🧾🔁]
🧾⬆️⬇️ = 🧾[::-1️⃣]
🧾⬆️⬇️⬅️ = [🚣‍♂️[::-1️⃣] for 🚣‍♂️ in 🧾⬆️⬇️]


🎉 = 0️⃣

🎉 += 👌➡️(🧾)
🎉 += 👌➡️(🧾⬅️)
🎉 += 👌➡️(🧾🔁)
🎉 += 👌➡️(🧾🔁⬅️)

🎉 += 👌↘️(🧾)
🎉 += 👌↘️(🧾⬅️)
🎉 += 👌↘️(🧾⬆️⬇️)
🎉 += 👌↘️(🧾⬆️⬇️⬅️)

🖨(🎉)

