"""
â˜€4ï¸âƒ£â•
"""

ğŸ§¼ = sorted
ğŸ–¨ = print
ğŸ¤ = zip
ğŸ‘† = abs
âœ… = True
âŒ = False

ğŸ›º = min
ğŸš› = max
ğŸ“ = len
ğŸ§‘â€ğŸŒ¾ = range

0ï¸âƒ£ = 0
1ï¸âƒ£ = 1
2ï¸âƒ£ = 2
3ï¸âƒ£ = 3
4ï¸âƒ£ = 4
5ï¸âƒ£ = 5
6ï¸âƒ£ = 6
7ï¸âƒ£ = 7
8ï¸âƒ£ = 8
9ï¸âƒ£ = 9
ğŸ”Ÿ = 10

def ğŸ”¢(âœ–): return int(âœ–)

def ğŸ‘“(âœ):
    return [ğŸš£â€â™‚ï¸.strip() for ğŸš£â€â™‚ï¸ in open(âœ).readlines() if ğŸš£â€â™‚ï¸.strip()]

def ğŸ‘“ğŸ¤(âœ):
    return open(âœ).read()


# ğŸŸ©ğŸŸ©ğŸŸ©ğŸ…¿1ï¸âƒ£ğŸŸ©ğŸŸ©ğŸŸ©


def ğŸ‘Œâ¡ï¸(ğŸ§¾):
    return sum([ğŸš£â€â™‚ï¸.count('XMAS') for ğŸš£â€â™‚ï¸ in ğŸ§¾])

def ğŸ‘Œâ†˜ï¸(ğŸ§¾):
    global 0ï¸âƒ£,1ï¸âƒ£,2ï¸âƒ£,3ï¸âƒ£,ğŸ§‘â€ğŸŒ¾,ğŸ“
    Â©ï¸=0
    for â¡ï¸ in ğŸ§‘â€ğŸŒ¾(ğŸ“(ğŸ§¾) - 3ï¸âƒ£):
        for â¬‡ï¸ in ğŸ§‘â€ğŸŒ¾(ğŸ“(ğŸ§¾[0ï¸âƒ£]) - 3ï¸âƒ£):
            if (
                    ğŸ§¾[â¡ï¸+0ï¸âƒ£][â¬‡ï¸+0ï¸âƒ£] == 'X'
                and ğŸ§¾[â¡ï¸+1ï¸âƒ£][â¬‡ï¸+1ï¸âƒ£] == 'M'
                and ğŸ§¾[â¡ï¸+2ï¸âƒ£][â¬‡ï¸+2ï¸âƒ£] == 'A'
                and ğŸ§¾[â¡ï¸+3ï¸âƒ£][â¬‡ï¸+3ï¸âƒ£] == 'S'):
                Â©ï¸ += 1ï¸âƒ£
    return Â©ï¸

def ğŸ”(ğŸ§¾):
    global ğŸ§‘â€ğŸŒ¾,ğŸ“,0ï¸âƒ£
    ğŸ§¾ğŸ” = []
    for â¡ï¸ in ğŸ§‘â€ğŸŒ¾(ğŸ“(ğŸ§¾[0ï¸âƒ£])):
        ğŸ§¾ğŸ”.append(''.join([ğŸ§¾[â¬‡ï¸][â¡ï¸] for â¬‡ï¸ in ğŸ§‘â€ğŸŒ¾(ğŸ“(ğŸ§¾))]))
    return ğŸ§¾ğŸ”

ğŸ§¾ = ğŸ‘“('input/4ï¸âƒ£.txt')
ğŸ§¾â¬…ï¸ = [ğŸš£â€â™‚ï¸[::-1ï¸âƒ£] for ğŸš£â€â™‚ï¸ in ğŸ§¾]
ğŸ§¾ğŸ” = ğŸ”(ğŸ§¾)
ğŸ§¾ğŸ”â¬…ï¸ = [ğŸš£â€â™‚ï¸[::-1ï¸âƒ£] for ğŸš£â€â™‚ï¸ in ğŸ§¾ğŸ”]
ğŸ§¾â¬†ï¸â¬‡ï¸ = ğŸ§¾[::-1ï¸âƒ£]
ğŸ§¾â¬†ï¸â¬‡ï¸â¬…ï¸ = [ğŸš£â€â™‚ï¸[::-1ï¸âƒ£] for ğŸš£â€â™‚ï¸ in ğŸ§¾â¬†ï¸â¬‡ï¸]


ğŸ‰ = 0ï¸âƒ£

ğŸ‰ += ğŸ‘Œâ¡ï¸(ğŸ§¾)
ğŸ‰ += ğŸ‘Œâ¡ï¸(ğŸ§¾â¬…ï¸)
ğŸ‰ += ğŸ‘Œâ¡ï¸(ğŸ§¾ğŸ”)
ğŸ‰ += ğŸ‘Œâ¡ï¸(ğŸ§¾ğŸ”â¬…ï¸)

ğŸ‰ += ğŸ‘Œâ†˜ï¸(ğŸ§¾)
ğŸ‰ += ğŸ‘Œâ†˜ï¸(ğŸ§¾â¬…ï¸)
ğŸ‰ += ğŸ‘Œâ†˜ï¸(ğŸ§¾â¬†ï¸â¬‡ï¸)
ğŸ‰ += ğŸ‘Œâ†˜ï¸(ğŸ§¾â¬†ï¸â¬‡ï¸â¬…ï¸)

ğŸ–¨(ğŸ‰)

