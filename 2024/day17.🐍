"""
☀1️⃣7️⃣❕
"""

🧼 = sorted
🖨 = print
🤐 = zip
👆 = abs
✅ = True
❌ = False

🛺 = min
🚛 = max
📏 = len
👩‍🌾 = range
🗺 = map
➕ = sum
⛓ = list
🎒 = set
✒️  = lambda ✖: str(✖)
🪓 = lambda ⭐, ✨: ⭐.split(✨)
📥 = lambda ⛓, ✨: ⛓.append(✨)
📥🎒 = lambda 🎒, ✨: 🎒.add(✨)
🔢 = lambda ✖: int(✖)

0️⃣ = 0; 1️⃣ = 1; 2️⃣ = 2; 3️⃣ = 3; 4️⃣ = 4; 5️⃣ = 5;
6️⃣ = 6; 7️⃣ = 7; 8️⃣ = 8; 9️⃣ = 9; 🔟 = 10
2️⃣5️⃣ = 25; 7️⃣5️⃣ = 75; 2️⃣0️⃣2️⃣4️⃣ = 2024; 💯 = 100;


def 👓(✏):
    return [🚣‍♂️.strip() for 🚣‍♂️ in open(✏).readlines() if 🚣‍♂️.strip()]

def 👓🤏(✏):
    return open(✏).read()

def 💉(⭐, ↔, ✨):
    global 1️⃣
    return ⭐[:↔] + ✨ + ⭐[↔ + 1️⃣:]

# 🟩🟩🟩🅿1️⃣🟩🟩🟩

# 🧾 = 👓🤏('input/17.example.txt')
🧾 = 👓🤏('input/17.txt')

📦🧾, 🤖🧾 = 🪓(🧾, '\n\n')

📦⛓ = 🪓(📦🧾, '\n')

📦🅰 = 🔢(📦⛓[0️⃣][📏('Register A: '):])
📦🅱 = 🔢(📦⛓[1️⃣][📏('Register B: '):])
📦©  = 🔢(📦⛓[2️⃣][📏('Register C: '):])

🤖 = ⛓(🗺(🔢, 🪓(🤖🧾[📏('Program: '):], ',')))

👇 = 0️⃣
print(🤖)
while 👇 < 📏(🤖):
    🎬 = 🤖[👇]
    🔑 = 🤖[👇 + 1️⃣]
    👇 += 2️⃣ 

    ✨ = [0️⃣, 1️⃣, 2️⃣, 3️⃣, 📦🅰, 📦🅱, 📦©][🔑]

    if 🎬 == 0️⃣:
        📦🅰 = 📦🅰 // (2️⃣ ** ✨)
    elif 🎬 == 1️⃣:
        📦🅱 = 📦🅱 ^ 🔑
    elif 🎬 == 2️⃣:
        📦🅱 = ✨ % 8️⃣
    elif 🎬 == 3️⃣:
        if 📦🅰:
            👇 = 🔑
    elif 🎬 == 4️⃣:
        📦🅱 = 📦🅱 ^ 📦©
    elif 🎬 == 5️⃣:
        🖨(✨ % 8️⃣, end=',')
    elif 🎬 == 6️⃣:
        📦🅱 = 📦🅰 // (2️⃣ ** ✨)
    elif 🎬 == 7️⃣:
        📦© = 📦🅰 // (2️⃣ ** ✨)

🖨()
