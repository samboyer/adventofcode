"""
â˜€1ï¸âƒ£1ï¸âƒ£â•
"""

ğŸ§¼ = sorted
ğŸ–¨ = print
ğŸ¤ = zip
ğŸ‘† = abs
âœ… = True
âŒ = False

ğŸ›º = min
ğŸš› = max
ğŸ“ = len
ğŸ‘©â€ğŸŒ¾ = range
ğŸ—º = map
â• = sum
â›“ = list
ğŸ’ = set
âœ’ï¸  = lambda âœ–: str(âœ–)
ğŸª“ = lambda â­, âœ¨: â­.split(âœ¨)
ğŸ“¥ = lambda â›“, âœ¨: â›“.append(âœ¨)
ğŸ“¥ğŸ’ = lambda ğŸ’, âœ¨: ğŸ’.add(âœ¨)
ğŸ”¢ = lambda âœ–: int(âœ–)

0ï¸âƒ£ = 0; 1ï¸âƒ£ = 1; 2ï¸âƒ£ = 2; 3ï¸âƒ£ = 3; 4ï¸âƒ£ = 4; 5ï¸âƒ£ = 5;
6ï¸âƒ£ = 6; 7ï¸âƒ£ = 7; 8ï¸âƒ£ = 8; 9ï¸âƒ£ = 9; ğŸ”Ÿ = 10
2ï¸âƒ£5ï¸âƒ£ = 25; 7ï¸âƒ£5ï¸âƒ£ = 75; 2ï¸âƒ£0ï¸âƒ£2ï¸âƒ£4ï¸âƒ£ = 2024;


def ğŸ‘“(âœ):
    return [ğŸš£â€â™‚ï¸.strip() for ğŸš£â€â™‚ï¸ in open(âœ).readlines() if ğŸš£â€â™‚ï¸.strip()]

def ğŸ‘“ğŸ¤(âœ):
    return open(âœ).read()


# ğŸŸ©ğŸŸ©ğŸŸ©ğŸ…¿1ï¸âƒ£ğŸŸ©ğŸŸ©ğŸŸ©

def ğŸŒŠğŸª£(ğŸ§¾, â†”ï¸, â†•ï¸):
    global ğŸ“, ğŸ’,0ï¸âƒ£,1ï¸âƒ£, ğŸ“¥ğŸ’, ğŸ“¥
    ğŸ‘‡ğŸ’ = ğŸ’()

    ğŸŒ± = ğŸ§¾[â†•ï¸][â†”ï¸]

    ğŸ“â†•ï¸ = ğŸ“(ğŸ§¾)
    ğŸ“â†”ï¸ = ğŸ“(ğŸ§¾[0ï¸âƒ£])

    â›“ï¸ = [(â†”ï¸, â†•ï¸)]
    while â›“ï¸:
        (â†”ï¸, â†•ï¸) = â›“ï¸.pop()
        ğŸ“¥ğŸ’(ğŸ‘‡ğŸ’, (â†”ï¸, â†•ï¸))

        for (â†”ï¸â†”ï¸, â†•ï¸â†•ï¸) in [
            (â†”ï¸ - 1ï¸âƒ£, â†•ï¸),
            (â†”ï¸ + 1ï¸âƒ£, â†•ï¸),
            (â†”ï¸, â†•ï¸ - 1ï¸âƒ£),
            (â†”ï¸, â†•ï¸ + 1ï¸âƒ£)
        ]:
            if (
                â†”ï¸â†”ï¸ < 0ï¸âƒ£
                or â†”ï¸â†”ï¸ >= ğŸ“â†”ï¸
                or â†•ï¸â†•ï¸ < 0ï¸âƒ£
                or â†•ï¸â†•ï¸ >= ğŸ“â†•ï¸):
                continue
            if (
                ğŸ§¾[â†•ï¸â†•ï¸][â†”ï¸â†”ï¸] != ğŸŒ±): 
                continue
            if (
                (â†”ï¸â†”ï¸, â†•ï¸â†•ï¸) not in ğŸ‘‡ğŸ’
                and (â†”ï¸â†”ï¸, â†•ï¸â†•ï¸) not in â›“ï¸
            ):
                ğŸ“¥(â›“ï¸, (â†”ï¸â†”ï¸, â†•ï¸â†•ï¸))
    
    return ğŸ‘‡ğŸ’


ğŸ§¾ = ğŸ‘“('input/12.txt')
ğŸ“â†•ï¸ = ğŸ“(ğŸ§¾)
ğŸ“â†”ï¸ = ğŸ“(ğŸ§¾[0ï¸âƒ£])

ğŸ‰ = 0
for â†•ï¸ in ğŸ‘©â€ğŸŒ¾(ğŸ“â†•ï¸):
    for â†”ï¸ in ğŸ‘©â€ğŸŒ¾(ğŸ“â†”ï¸):
        if ğŸ§¾[â†•ï¸][â†”ï¸] != 'ğŸª¨':
            ğŸ‘‡ğŸ’ = ğŸŒŠğŸª£(ğŸ§¾, â†”ï¸, â†•ï¸)

            ğŸ”´ = ğŸ“(ğŸ‘‡ğŸ’)
            â­• = 4ï¸âƒ£ * ğŸ”´
            for (ğŸŒ±â†”ï¸, ğŸŒ±â†•ï¸) in ğŸ‘‡ğŸ’:
                for (â†”ï¸â†”ï¸, â†•ï¸â†•ï¸) in [
                    (ğŸŒ±â†”ï¸ - 1ï¸âƒ£, ğŸŒ±â†•ï¸),
                    (ğŸŒ±â†”ï¸ + 1ï¸âƒ£, ğŸŒ±â†•ï¸),
                    (ğŸŒ±â†”ï¸, ğŸŒ±â†•ï¸ - 1ï¸âƒ£),
                    (ğŸŒ±â†”ï¸, ğŸŒ±â†•ï¸ + 1ï¸âƒ£)
                ]:
                    if (â†”ï¸â†”ï¸, â†•ï¸â†•ï¸) in ğŸ‘‡ğŸ’:
                        â­• -= 1ï¸âƒ£
            ğŸ‰ += ğŸ”´ * â­•
            for (ğŸŒ±â†”ï¸, ğŸŒ±â†•ï¸) in ğŸ‘‡ğŸ’:
                ğŸ§¾[ğŸŒ±â†•ï¸] = ğŸ§¾[ğŸŒ±â†•ï¸][:ğŸŒ±â†”ï¸] + 'ğŸª¨' + ğŸ§¾[ğŸŒ±â†•ï¸][ğŸŒ±â†”ï¸ + 1ï¸âƒ£:]

ğŸ–¨(ğŸ‰)