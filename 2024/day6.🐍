"""
☀6️⃣❕
"""

🧼 = sorted
🖨 = print
🤐 = zip
👆 = abs
✅ = True
❌ = False

🛺 = min
🚛 = max
📏 = len
🧑‍🌾 = range
🗺 = map


0️⃣ = 0
1️⃣ = 1
2️⃣ = 2
3️⃣ = 3
4️⃣ = 4
5️⃣ = 5
6️⃣ = 6
7️⃣ = 7
8️⃣ = 8
9️⃣ = 9
🔟 = 10

def 🔢(✖): return int(✖)

def 👓(✏):
    return [🚣‍♂️.strip() for 🚣‍♂️ in open(✏).readlines() if 🚣‍♂️.strip()]

def 👓🤏(✏):
    return open(✏).read()


# 🟩🟩🟩🅿1️⃣🟩🟩🟩

def ➕(↔️,↕️,🏎️↔️,🏎️↕️):
    return (↔️+🏎️↔️, ↕️+🏎️↕️)

def 🖌️(⭐,⬇️):
    global 1️⃣
    return ⭐[:⬇️] + 'X' + ⭐[⬇️+1️⃣:]

def 🔁(🏎️↔️,🏎️↕️):
    return -🏎️↕️, 🏎️↔️

🧾 = 👓('input/6️⃣.txt')


🏎️↔️ = 0️⃣
🏎️↕️= -1️⃣

for ↕️ in 🧑‍🌾(📏(🧾)):
    if '^' in 🧾[↕️]:
        ↔️ = 🧾[↕️].index('^')
        🖌️(🧾[↕️], ↔️) 

        break

🎉 = 1️⃣

⌚🚶 = ✅
while ⌚🚶:
    ⌚🚶 = ❌

    ⏭️↔️,⏭️↕️ = ➕(↔️, ↕️,🏎️↔️,🏎️↕️)
    while ⏭️↔️ >= 0️⃣ and ⏭️↔️ < 📏(🧾[0️⃣]) and ⏭️↕️ >= 0️⃣ and ⏭️↕️ < 📏(🧾) and 🧾[⏭️↕️][⏭️↔️] != '#':
        ↔️=⏭️↔️
        ↕️=⏭️↕️

        if 🧾[↕️][↔️] == '.':
            🧾[↕️] = 🖌️(🧾[↕️],↔️) 
            🎉 += 1️⃣
            ⌚🚶 = ✅

        ⏭️↔️,⏭️↕️ = ➕(↔️,↕️,🏎️↔️,🏎️↕️)

    if ⏭️↔️ < 0️⃣ or ⏭️↔️ >= 📏(🧾[0️⃣]) or ⏭️↕️ < 0️⃣ or ⏭️↕️ >= 📏(🧾):
        #🚫🚫🚫
        break

    🏎️↔️, 🏎️↕️ = 🔁(🏎️↔️,🏎️↕️)


🖨(🎉)
